{"version":3,"sources":["src/flags.js","src/h.js","src/patchData.js","src/util.js","src/render.js","src/index.js","node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["VNodeFlags","ELEMENT_HTML","ELEMENT_SVG","COMPONENT_STATEFUL_NORAMAL","COMPONENT_STATEFUL_SHOULD_KEEP_ALIVE","COMPONENT_STATEFUL_KEPT_ALIVE","COMPONENT_FUNCTIONAL","TEXT","FRAGMENT","PORTAL","ELEMENT","COMPONENT_STATEFUL","COMPONENT","ChildrenFlags","UNKNOWN_CHILDREN","NO_CHILDREN","SINGLE_VNODE","KEYED_VNODES","NONE_KEYED_VNODES","MULTI_VNODES","Fragment","Symbol","Portal","h","tag","data","children","flag","target","functional","prototype","render","childFlag","Array","isArray","len","length","normalizeVNodes","_isVnode","createTextVNode","el","key","map","child","index","text","domPropsRE","patchData","prevValue","nextValue","hasOwnProperty","className","removeEventListener","slice","addEventListener","test","setAttribute","lis","arr","table","i","push","arrIndex","start","res","count","dLen","unshift","vnode","container","prevVNode","patch","removeChild","mount","nextVNode","prevFlag","nextFlag","replaceVNode","patchELement","patchText","patchFragment","patchPortal","patchComponent","isSvg","refNode","mountElement","mountText","mountFragment","mountPortal","mountComponent","document","createElementNS","createElement","insertBefore","appendChild","createTextNode","isSVG","placeholder","querySelector","mountStatefulComponent","mountFunctionalComponent","instance","_update","_mounted","$vnode","$node","parentNode","$el","$props","mounted","handle","prev","next","update","prevVTree","nextVTree","props","unmounted","prevData","nextData","patchChildren","nodeValue","prevChildFlag","nextChildFlag","prevChildren","nextChildren","vue3Patch","noMovePatch","prevLen","nextLen","lessLen","Math","min","simplePatch","reactPatch","maxIndex","found","j","nextSibling","has","find","node","vue2Patch","prevStartIdx","nextStartIdx","prevEndIdx","nextEndIdx","prevStartVNode","nextStartVNode","prevEndVNode","nextEndVNode","idxInPrev","findIndex","vnodeToMove","undefined","prevEnd","nextEnd","outer","prevStart","nextStart","nextLeft","nextMap","source","moved","pos","patched","nextNodeIndex","seq","currentSeq","muitlChildrenBefore","muitlChildrenAfter","getElementById","setTimeout","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","JSON","parse","type","handled","assets","forEach","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","id","every","generated","js","console","clear","hmrApply","v","hmrAcceptRun","window","reload","close","onclose","log","removeErrorOverlay","error","message","stack","overlay","createErrorOverlay","body","remove","stackTrace","innerText","innerHTML","getParents","modules","parents","k","d","dep","concat","Function","deps","cached","cache","some","cb"],"mappings":"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;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA,IAAM6G,mBAAmB,GAAG,UAAE,KAAF,EAAS,IAAT,EAAe,CACvC,UAAE,GAAF,EAAO;AAAEhI,EAAAA,GAAG,EAAE;AAAP,CAAP,EAAqB,OAArB,CADuC,EAEvC;AACA,UAAE,GAAF,EAAO;AAAEA,EAAAA,GAAG,EAAE;AAAP,CAAP,EAAqB,OAArB,CAHuC,EAIvC,UAAE,GAAF,EAAO;AAAEA,EAAAA,GAAG,EAAE;AAAP,CAAP,EAAqB,OAArB,CAJuC,CAAf,CAA5B;AAOA,IAAMiI,kBAAkB,GAAG,UAAE,KAAF,EAAS,IAAT,EAAe,CACtC,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","file":"src.a2b27638.js","sourceRoot":"..","sourcesContent":["const VNodeFlags = {\n    ELEMENT_HTML: 1,\n    ELEMENT_SVG: 1 << 1,\n\n    COMPONENT_STATEFUL_NORAMAL: 1 << 2,\n    COMPONENT_STATEFUL_SHOULD_KEEP_ALIVE: 1 << 3,\n    COMPONENT_STATEFUL_KEPT_ALIVE: 1 << 4,\n    COMPONENT_FUNCTIONAL: 1 << 5,\n\n    TEXT: 1 << 6,\n    FRAGMENT: 1 << 7,\n    PORTAL: 1 << 8,\n};\n\nVNodeFlags.ELEMENT = VNodeFlags.ELEMENT_HTML | VNodeFlags.ELEMENT_SVG;\n\nVNodeFlags.COMPONENT_STATEFUL = VNodeFlags.COMPONENT_STATEFUL_NORAMAL |\n    VNodeFlags.COMPONENT_STATEFUL_SHOULD_KEEP_ALIVE\n    VNodeFlags.COMPONENT_STATEFUL_KEPT_ALIVE;\n\nVNodeFlags.COMPONENT = VNodeFlags.COMPONENT_STATEFUL | VNodeFlags.COMPONENT_FUNCTIONAL;\n\nconst ChildrenFlags = {\n    UNKNOWN_CHILDREN: 0,\n    NO_CHILDREN: 1,\n    SINGLE_VNODE: 1 << 2,\n    KEYED_VNODES: 1 << 3,\n    NONE_KEYED_VNODES: 1 << 4,\n};\n\nChildrenFlags.MULTI_VNODES = ChildrenFlags.KEYED_VNODES | ChildrenFlags.NONE_KEYED_VNODES;\n\nexport { VNodeFlags, ChildrenFlags };\n","import { VNodeFlags, ChildrenFlags } from './flags';\n\nexport const Fragment = Symbol();\nexport const Portal = Symbol();\n\n// 根据tag，data，children，推到flag和childFlag，得到一个VNode\nexport function h(tag, data = null, children = null) {\n    let flag = null;\n    if (typeof tag === 'string') {\n        flag = tag === 'svg' ? VNodeFlags.ELEMENT_SVG : VNodeFlags.ELEMENT_HTML;\n    } else if (tag === Fragment) {\n        flag = VNodeFlags.FRAGMENT;\n    } else if (tag === Portal) {\n        flag = VNodeFlags.PORTAL;\n        tag = data && data.target;\n    } else {\n        if (tag !== null && typeof tag === 'object') {\n            flag = tag.functional ?\n                VNodeFlags.COMPONENT_FUNCTIONAL :\n                VNodeFlags.COMPONENT_STATEFUL_NORAMAL;\n        } else if (typeof tag === 'function') {\n            flag = tag.prototype.render ?\n                VNodeFlags.COMPONENT_STATEFUL_NORAMAL :\n                VNodeFlags.COMPONENT_FUNCTIONAL;\n        }\n    }\n\n    let childFlag = null;\n    if (Array.isArray(children)) {\n        const len = children.length;\n        if (len === 0) {\n            childFlag = ChildrenFlags.NO_CHILDREN;\n        } else if (len === 1) {\n            childFlag = ChildrenFlags.SINGLE_VNODE;\n            children = children[0];\n        } else {\n            childFlag = ChildrenFlags.KEYED_VNODES;\n            children = normalizeVNodes(children);\n        }\n    } else if (children == null) {\n        childFlag = ChildrenFlags.NO_CHILDREN;\n    } else if (children._isVnode) {\n        childFlag = ChildrenFlags.SINGLE_VNODE;\n    } else {\n        childFlag = ChildrenFlags.SINGLE_VNODE;\n        children = createTextVNode(children + '');\n    }\n\n    return {\n        tag,\n        flag,\n        childFlag,\n        children,\n        data,\n        _isVnode: true,\n        el: null,\n        key: data && data.key ? data.key : null,\n    };\n}\n\nfunction normalizeVNodes(children) {\n    return children.map((child, index) => {\n        return {\n            ...child,\n            key: child.key == null ? `|${index}` : child.key,\n        };\n    });\n}\n\nexport function createTextVNode(text) {\n    return {\n        _isVnode: true,\n        flag: VNodeFlags.TEXT,\n        children: text,\n        childFlag: ChildrenFlags.NO_CHILDREN,\n        data: null,\n        tag: null,\n    };\n}\n","const domPropsRE = /\\W|^(?:value|checked|seleted|muted)$/;\n\nexport function patchData(el, key, prevValue, nextValue) {\n    switch (key) {\n        case 'style':\n            for (const key in nextValue) {\n                el['style'][key] = nextValue[key];\n            }\n            for (const key in prevValue) {\n                if (!nextValue.hasOwnProperty(key)) {\n                    el['style'][key] = '';\n                }\n            }\n            break;\n        case 'class':\n            el.className = nextValue;\n            break;\n        default:\n            if (key[0] === 'o' && key[1] === 'n') {\n                if (prevValue) {\n                    el.removeEventListener(key.slice(2), prevValue);\n                }\n                if (nextValue) {\n                    el.addEventListener(key.slice(2), nextValue);\n                }\n            }\n            else if (domPropsRE.test(key)) {\n                el[key] = nextValue;\n            } else {\n                el.setAttribute(key, nextValue);\n            }\n    }\n}\n","function lis(arr) {\n    const len = arr.length;\n    const table = [];\n    for (let i = 0; i < len; i ++) {\n        table.push(1);\n    }\n\n    let index = len - 2;\n    while (index >= 0) {\n        const arrIndex = arr[index];\n        for (let start = index + 1; start < len; start ++) {\n            if (arrIndex < arr[start] && table[index] < table[start] + 1) {\n                table[index] = table[start] + 1;\n            }\n        }\n        index --;\n    }\n\n    // console.log(table);\n    // 找最后一个\n    const res = [];\n    let count = 1;\n    let dLen = len - 1;\n    while (dLen >= 0) {\n        if (count === table[dLen]) {\n            count ++;\n            res.unshift(dLen);\n        }\n        dLen --;\n    }\n\n    return res;\n}\n\nexport { lis }\n","import { VNodeFlags, ChildrenFlags } from './flags';\nimport { patchData } from './patchData';\nimport { createTextVNode } from './h';\nimport { lis } from './util';\n\nexport default function render(vnode, container) {\n    const prevVNode = container.vnode;\n    if (prevVNode) {\n        if (vnode) {\n            patch(prevVNode, vnode, container);\n            container.vnode = vnode;\n        } else {\n            container.removeChild(prevVNode.el);\n            container.vnode = null;\n        }\n    } else {\n        if (vnode) {\n            mount(vnode, container);\n            container.vnode = vnode;\n        }\n    }\n}\n\nfunction patch(prevVNode, nextVNode, container) {\n    const prevFlag = prevVNode.flag;\n    const nextFlag = nextVNode.flag;\n\n    if (prevFlag !== nextFlag) {\n        replaceVNode(prevVNode, nextVNode, container);\n    } else if (prevFlag === VNodeFlags.ELEMENT_HTML) {\n        patchELement(prevVNode, nextVNode, container);\n    } else if (prevFlag & VNodeFlags.TEXT) {\n        patchText(prevVNode, nextVNode);\n    } else if (prevFlag & VNodeFlags.FRAGMENT) {\n        patchFragment(prevVNode, nextVNode, container);\n    } else if (prevFlag & VNodeFlags.PORTAL) {\n        patchPortal(prevVNode, nextVNode);\n    } else if (prevFlag & VNodeFlags.COMPONENT) {\n        patchComponent(prevVNode, nextVNode, container);\n    }\n}\n\nfunction mount(vnode, container, isSvg, refNode) {\n    if (vnode.flag & VNodeFlags.ELEMENT) {\n        mountElement(vnode, container, isSvg, refNode);\n    } else if (vnode.flag & VNodeFlags.TEXT) {\n        mountText(vnode, container);\n    } else if (vnode.flag & VNodeFlags.FRAGMENT) {\n        mountFragment(vnode, container, isSvg);\n    } else if (vnode.flag & VNodeFlags.PORTAL) {\n        mountPortal(vnode, container);\n    } else if (vnode.flag & VNodeFlags.COMPONENT) {\n        mountComponent(vnode, container, isSvg);\n    }\n}\n\nfunction mountElement(vnode, container, isSvg, refNode) {\n    isSvg = isSvg || vnode.flag & VNodeFlags.ELEMENT_SVG;\n    const el = isSvg ?\n        document.createElementNS('http://www.w3.org/2000/svg', vnode.tag) :\n        document.createElement(vnode.tag);\n\n    vnode.el = el;\n    const data = vnode.data;\n    if (data) {\n        for (const key in data) {\n            patchData(el, key, null, data[key]);\n        }\n    }\n\n    if (vnode.childFlag !== ChildrenFlags.NO_CHILDREN) {\n        if (vnode.childFlag & ChildrenFlags.SINGLE_VNODE) {\n            mount(vnode.children, el, isSvg);\n        } else if (vnode.childFlag & ChildrenFlags.MULTI_VNODES) {\n            for (const child of vnode.children) {\n                mount(child, el, isSvg);\n            }\n        }\n    }\n\n    // container.appendChild(el);\n    if (refNode) {\n        container.insertBefore(el, refNode)\n    } else {\n        container.appendChild(el);\n    }\n}\n\nfunction mountText(vnode, container) {\n    const el = document.createTextNode(vnode.children);\n    vnode.el = el;\n    container.appendChild(el);\n}\n\nfunction mountFragment(vnode, container, isSVG) {\n    const { childFlag, children } = vnode;\n    if (childFlag & ChildrenFlags.MULTI_VNODES) {\n        for (const child of children) {\n            mount(child, container, isSVG);\n        }\n        vnode.el = children[0].el;\n    } else if (childFlag & ChildrenFlags.SINGLE_VNODE) {\n        mount(children, container, isSVG);\n        vnode.el = children.el;\n    } else if (childFlag & ChildrenFlags.NO_CHILDREN) {\n        const placeholder = createTextVNode('');\n        mountText(placeholder, container);\n\n        vnode.el = placeholder;\n    }\n}\n\nfunction mountPortal(vnode, container) {\n    const { tag, children, childFlag } = vnode;\n    const target = typeof tag === 'string' ?\n        document.querySelector(tag) : tag;\n    \n    if (childFlag & ChildrenFlags.SINGLE_VNODE) {\n        mount(children, target);\n    } else if (childFlag & ChildrenFlags.MULTI_VNODES) {\n        for (const child of children) {\n            mount(child, target);\n        }\n    }\n\n    const placeholder = createTextVNode('');\n    mountText(placeholder, container);\n    vnode.el = placeholder;\n}\n\nfunction mountComponent(vnode, container, isSVG) {\n    const { flag } = vnode;\n    if (flag & VNodeFlags.COMPONENT_STATEFUL) {\n        mountStatefulComponent(vnode, container, isSVG);\n    } else {\n        mountFunctionalComponent(vnode, container, isSVG);\n    }\n}\n\nfunction mountStatefulComponent(vnode, container, isSVG) {\n    // 暂时还不知道vnode.children是干嘛的，为什么把组件实例作为vnode.children\n    const instance = (vnode.children = new vnode.tag());\n\n    instance._update = function() {\n        if (instance._mounted) {\n            const prevVNode = instance.$vnode;\n            const nextVNode = (instance.$node = instance.render());\n            \n            // 这里是el的parentNode\n            patch(prevVNode, nextVNode, prevVNode.el.parentNode);\n            instance.$el = vnode.el = instance.$vnode.el;\n        } else {\n            instance._mounted = true;\n            instance.$props = vnode.data\n            instance.$vnode = instance.render();\n            mount(instance.$vnode, container, isSVG);\n            instance.$el = vnode.el = instance.$vnode.el;\n\n            // 暂时加在这里\n            instance.mounted && instance.mounted();\n        }\n    }\n\n    instance._update();\n}\n\nfunction mountFunctionalComponent(vnode, container, isSVG) {\n    vnode.handle = {\n        container,\n        prev: null,\n        next: vnode,\n        update() {\n            // 非初次挂载\n            if (vnode.handle.prev) {\n                const prevVNode = vnode.handle.prev;\n                const nextVNode = vnode.handle.next;\n                const prevVTree = prevVNode.children;\n                const nextVTree = (nextVNode.children = nextVNode.tag(nextVNode.data));\n\n                patch(prevVTree, nextVTree, vnode.handle.container);\n            } else {\n                // 初次挂载\n                const props = vnode.data;\n                const $vnode = (vnode.children = vnode.tag(props));\n                mount($vnode, container, isSVG);\n                vnode.el = $vnode.el;\n            }\n        },\n    };\n    vnode.handle.update();\n}\n\nfunction replaceVNode(prevVNode, nextVNode, container) {\n    container.removeChild(prevVNode.el);\n    if (prevVNode.flag & VNodeFlags.COMPONENT_STATEFUL_NORAMAL) {\n        const instance = prevVNode.children;\n        if (instance.unmounted) {\n            instance.unmounted();\n        }\n    }\n    mount(nextVNode, container);\n}\n\nfunction patchELement(prevVNode, nextVNode, container) {\n    if (prevVNode.tag !== nextVNode.tag) {\n        replaceVNode(prevVNode, nextVNode, container);\n        return;\n    }\n    const el = (nextVNode.el = prevVNode.el);\n    const prevData = prevVNode.data;\n    const nextData = nextVNode.data;\n\n    if (nextData) {\n        for (const key in nextData) {\n            patchData(el, key, prevData[key], nextData[key]);\n        }\n    }\n    if (prevData) {\n        for (const key in prevData) {\n            if (!nextData.hasOwnProperty(key)) {\n                patchData(el, key, prevData[key], null);\n            }\n        }\n    }\n\n    patchChildren(\n        prevVNode.childFlag,\n        nextVNode.childFlag,\n        prevVNode.children,\n        nextVNode.children,\n        el,\n    )\n}\n\nfunction patchText(prevVNode, nextVNode) {\n    const el = (nextVNode.el = prevVNode.el);\n    if (nextVNode.children !== prevVNode.children) {\n        el.nodeValue = nextVNode.children;\n    }\n}\n\nfunction patchFragment(prevVNode, nextVNode, container) {\n    patchChildren(\n        prevVNode.childFlag,\n        nextVNode.childFlag,\n        prevVNode.children,\n        nextVNode.children,\n        container,\n    );\n\n    switch(nextVNode.childFlag) {\n        case ChildrenFlags.MULTI_VNODES:\n            nextVNode.el = nextVNode.children[0].el;\n            break;\n        case ChildrenFlags.SINGLE_VNODE:\n            nextVNode.el = nextVNode.children.el;\n            break;\n        default:\n            nextVNode.el = prevVNode.el;\n    }\n}\n\nfunction patchPortal(prevVNode, nextVNode) {\n    patchChildren(\n        prevVNode.childFlag,\n        nextVNode.childFlag,\n        prevVNode.children,\n        nextVNode.children,\n        prevVNode.tag,\n    );\n\n    nextVNode.el = prevVNode.el;\n\n    if (prevVNode.tag !== nextVNode.tag) {\n        const { tag } = nextVNode;\n        const container = typeof tag === 'string' ?\n            document.querySelector(tag) : tag;\n        switch(nextVNode.childFlag) {\n            case ChildrenFlags.SINGLE_VNODE:\n                container.appendChild(nextVNode.children.el);\n                break;\n            case ChildrenFlags.MULTI_VNODES:\n                for (const child of nextVNode.children) {\n                    container.appendChild(child.el);\n                }\n                break;\n            default:\n                break;\n        }\n    }\n}\n\nfunction patchComponent(prevVNode, nextVNode, container) {\n    if (prevVNode.tag !== nextVNode.tag) {\n        replaceVNode(prevVNode, nextVNode, container)\n    } else if (nextVNode.flag & VNodeFlags.COMPONENT_STATEFUL_NORAMAL) {\n        // 取到实例，并赋给nextVNode，不再new一个了；\n        const instance = (nextVNode.children = prevVNode.children);\n        // 更新data给render用\n        instance.$props = nextVNode.data;\n        instance.render();\n    } else {\n        // 更新handle数据，在update的时候直接从上边拿；\n        const handle = (nextVNode.handle = prevVNode.handle);\n        handle.prev = prevVNode;\n        handle.next = nextVNode;\n\n        handle.container = container;\n        handle.update();\n    }\n}\n\nfunction patchChildren(prevChildFlag, nextChildFlag, prevChildren, nextChildren, container) {\n    switch (prevChildFlag) {\n        case ChildrenFlags.SINGLE_VNODE:\n            switch (nextChildFlag) {\n                case ChildrenFlags.SINGLE_VNODE:\n                    patch(prevChildren, nextChildren, container);\n                    break;\n                case ChildrenFlags.NO_CHILDREN:\n                    container.removeChild(prevChildren.el);\n                    break;\n                default:\n                    container.removeChild(prevChildren.el);\n                    for (const child of nextChildren) {\n                        mount(child, container);\n                    }\n                    break;\n            }\n            break;\n        case ChildrenFlags.NO_CHILDREN:\n            switch (nextChildFlag) {\n                case ChildrenFlags.SINGLE_VNODE:\n                    mount(nextChildren, container);\n                    break;\n                case ChildrenFlags.NO_CHILDREN:\n                    break;\n                default:\n                    for (const child of nextChildren) {\n                        mount(child, container);\n                    }\n                    break;\n            }\n            break;\n        default:\n            switch (nextChildFlag) {\n                case ChildrenFlags.SINGLE_VNODE:\n                    for (const child of prevChildren) {\n                        container.removeChild(child.el);\n                    }\n                    mount(nextChildren, container);\n                    break;\n                case ChildrenFlags.NO_CHILDREN:\n                    for (const child of prevChildren) {\n                        container.removeChild(child.el);\n                    }\n                    break;\n                default:\n                    // simplePatch(prevChildren, nextChildren, container);\n                    // noMovePatch(prevChildren, nextChildren, container);\n                    // reactPatch(prevChildren, nextChildren, container);\n                    // vue2Patch(prevChildren, nextChildren, container);\n                    vue3Patch(prevChildren, nextChildren, container);\n                    break;\n            }\n            break;\n    }\n}\n\nfunction noMovePatch(prevChildren, nextChildren, container) {\n    const prevLen = prevChildren.length;\n    const nextLen = nextChildren.length;\n\n    const lessLen = Math.min(prevLen, nextLen);\n\n    for (let i = 0; i < lessLen; i ++) {\n        patch(prevChildren[i], nextChildren[i], container);\n    }\n\n    if (prevLen > nextLen) {\n        for (let i = lessLen; i < prevLen; i ++) {\n            container.removeChild(prevChildren[i])\n        }\n    } else if (nextLen > prevLen) {\n        mount(nextChildren[i], container);\n    }\n}\n\nfunction simplePatch(prevChildren, nextChildren, container) {\n    for (const child of prevChildren) {\n        container.removeChild(child.el);\n    }\n    for (const child of nextChildren) {\n        mount(child, container);\n    }\n}\n\nfunction reactPatch(prevChildren, nextChildren, container) {\n    let maxIndex = 0;\n    for (let i = 0; i < nextChildren.length; i ++) {\n        const nextVNode = nextChildren[i];\n        let found = false;\n        for (let j = 0; j < prevChildren.length; j ++) {\n            const prevVNode = prevChildren[j];\n            if (prevVNode.key == nextVNode.key) {\n                found = true;\n                patch(prevVNode, nextVNode, container);\n                if (j < maxIndex) {\n                    const refNode = nextChildren[i - 1].el.nextSibling;\n                    container.insertBefore(prevVNode.el, refNode);\n                } else {\n                    maxIndex = j;\n                }\n                break;\n            }\n        }\n        // 新元素\n        if (!found) {\n            const refNode = i - 1 < 0 ?\n                prevChildren[0].el :\n                nextChildren[i - 1].el.nextSibling;\n            mount(nextVNode, container, false, refNode);\n        }\n    }\n    // 删除元素\n    for (let i = 0; i < prevChildren.length; i ++) {\n        const prevVNode = prevChildren[i];\n\n        const has = nextChildren.find(node => node.key === prevVNode.key);\n\n        if (!has) {\n            container.removeChild(prevVNode.el);\n        }\n    }\n}\n\nfunction vue2Patch(prevChildren, nextChildren, container) {\n    let prevStartIdx = 0;\n    let nextStartIdx = 0;\n    let prevEndIdx = prevChildren.length - 1;\n    let nextEndIdx = nextChildren.length - 1;\n\n    let prevStartVNode = prevChildren[prevStartIdx];\n    let nextStartVNode = nextChildren[nextStartIdx];\n    let prevEndVNode = prevChildren[prevEndIdx];\n    let nextEndVNode = nextChildren[nextEndIdx];\n\n    while (prevStartIdx <= prevEndIdx && nextStartIdx <= nextEndIdx) {\n        if (!prevStartVNode) {\n            prevStartIdx ++;\n            prevStartVNode = prevChildren[prevStartIdx];\n        } else if (!prevEndVNode) {\n            prevEndIdx --;\n            prevEndVNode = prevChildren[prevEndIdx];\n        } else if (prevStartVNode.key === nextStartVNode.key) {\n            patch(prevStartVNode, nextStartVNode, container);\n            prevStartIdx ++;\n            nextStartIdx ++;\n            prevStartVNode = prevChildren[prevStartIdx];\n            nextStartVNode = nextChildren[nextStartIdx];\n        } else if (prevEndVNode.key === nextEndVNode.key) {\n            patch(prevEndVNode, nextEndVNode, container);\n            prevEndIdx --;\n            nextEndIdx --;\n            prevEndVNode = prevChildren[prevEndIdx];\n            nextEndVNode = nextChildren[nextEndIdx];\n        } else if (prevStartVNode.key === nextEndVNode.key) {\n            patch(prevStartVNode, nextEndVNode, container);\n            container.insertBefore(nextEndVNode.el, prevEndVNode.el.nextSibling);\n            prevStartIdx ++;\n            nextEndIdx --;\n            prevStartVNode = prevChildren[prevStartIdx];\n            nextEndVNode = nextChildren[nextEndIdx];\n        } else if (prevEndVNode.key === nextStartVNode.key) {\n            patch(prevEndVNode, nextStartVNode, container);\n            container.insertBefore(nextStartVNode.el, prevStartVNode.el);\n            prevEndIdx --;\n            nextStartIdx ++;\n            prevEndVNode = prevChildren[prevEndIdx];\n            nextStartVNode = nextChildren[nextStartIdx];\n        } else {\n            const idxInPrev = prevChildren.findIndex(child => child.key === nextStartVNode.key);\n            // 找到了\n            if (idxInPrev >= 0) {\n                const vnodeToMove = prevChildren[idxInPrev];\n                patch(vnodeToMove, nextStartVNode, container);\n                container.insertBefore(vnodeToMove.el, prevStartVNode.el);\n\n                // 当遇到已经移动了的prev元素，直接跳过\n                prevChildren[idxInPrev] = undefined;\n            } else {\n                mount(nextStartVNode, container, false, prevStartVNode.el);\n            }\n            nextStartIdx ++;\n            nextStartVNode = nextChildren[nextStartIdx];\n        }\n    }\n\n    if (prevEndIdx < prevStartIdx) {\n        for (let i = nextStartIdx; i <= nextEndIdx; i ++) {\n            mount(nextChildren[i], container, false, prevStartVNode.el);\n        }\n    } else if (nextEndIdx < nextStartIdx) {\n        for (let i = prevStartIdx; i <= prevEndIdx; i ++) {\n            container.removeChild(prevChildren[i].el);\n        }\n    }\n}\n\nfunction vue3Patch(prevChildren, nextChildren, container) {\n    let start = 0;\n    let prevVNode = prevChildren[start];\n    let nextVNode = nextChildren[start];\n    let prevEnd = prevChildren.length - 1;\n    let nextEnd = nextChildren.length - 1;\n\n    outer: {\n        while(prevVNode.key === nextVNode.key) {\n            patch(prevVNode, nextVNode, container);\n            start ++;\n            if (start > prevEnd || start > nextEnd) {\n                break outer;\n            }\n            prevVNode = prevChildren[start];\n            nextVNode = nextChildren[start];\n        }\n\n        prevVNode = prevChildren[prevEnd];\n        nextVNode = nextChildren[nextEnd];\n\n        while (prevVNode.key === nextVNode.key) {\n            patch(prevVNode, nextVNode, container);\n            prevEnd --;\n            nextEnd --;\n\n            if (start > prevEnd || start > nextEnd) {\n                break outer;\n            }\n            prevVNode = prevChildren[prevEnd];\n            nextVNode = prevChildren[nextEnd];\n        }\n    }\n\n    if (start > prevEnd && start <= nextEnd) {\n        const refNode = nextEnd + 1 < nextChildren.length ?\n            nextChildren[nextEnd + 1].el : null;\n        for (let i = start; i <= nextEnd; i ++) {\n            mount(nextChildren[i], container, false, refNode);\n        }\n    } else if (start > nextEnd && start <= prevEnd) {\n        for (let i = start; i <= prevEnd; i ++) {\n            container.removeChild(prevChildren[i].el)\n        }\n    } else {\n        const prevStart = start;\n        const nextStart = start;\n        const nextLeft = nextEnd - nextStart + 1;\n        const nextMap = {};\n        const source = [];\n        let moved = false;\n        let pos = 0;\n        let patched = 0;\n\n        for (let i = 0; i < nextLeft; i ++) {\n            source.push(-1);\n        }\n\n        for (let i = nextStart; i <= nextEnd; i ++) {\n            nextMap[nextChildren[i].key] = i;\n        }\n\n        // 使用react的更新方式\n        for (let i = prevStart; i <= prevEnd; i ++) {\n            const prevVNode = prevChildren[i];\n            if (patched < nextLeft) {\n                const nextNodeIndex = nextMap[prevVNode.key];\n                if (nextNodeIndex !== undefined) {\n                    patch(prevVNode, nextChildren[nextNodeIndex], container);\n                    patched ++;\n                    // 更新source\n                    source[nextNodeIndex - nextStart] = i;\n                    if (nextNodeIndex < pos) {\n                        moved = true;\n                    } else {\n                        pos = nextNodeIndex;\n                    }\n                } else {\n                    // 老的有，新的没有，移除\n                    container.removeChild(prevVNode.el);\n                }\n            } else {\n                container.removeChild(prevVNode.el);\n            }\n        }\n\n        if (moved) {\n            const seq = lis(source);\n            let currentSeq = seq.length - 1;\n\n            for (let i = nextLeft - 1; i >= 0; i --) {\n                if (source[i] === -1) {\n                    // 没找到的 mount\n                    const pos = nextStart + i;\n                    const nextVNode = nextChildren[pos];\n\n                    const refNode = pos + 1 < nextChildren.length ?\n                        nextChildren[pos + 1].el : null;\n                    \n                    mount(nextVNode, container, false, refNode);\n                } else if (i !== seq[currentSeq]) {\n                    // 移动\n                    const pos = nextStart + i;\n                    const nextVNode = nextChildren[pos];\n\n                    const refNode = pos + 1 < nextChildren.length ?\n                        nextChildren[pos + 1].el : null;\n                    \n                    container.insertBefore(nextVNode.el, refNode);\n                } else {\n                    // 不需移动\n                    currentSeq --;\n                }\n            }\n        }\n\n        for (let i = nextEnd; i >= nextStart; i --) {\n            const has = prevChildren.find(node => node.key === nextChildren[i].key);\n            if (!has) {\n                const refNode = i + 1 > nextChildren.length ?\n                    null : nextChildren[i + 1].el;\n                mount(nextChildren[i], container, false, refNode);\n            }\n        }\n    }\n}\n","import {\n    h,\n    Fragment,\n    Portal\n} from './h';\nimport render from './render';\n\n// class MyComponent {\n//     render() {\n//         return h(\n//             'div', {\n//                 style: {\n//                     background: 'green'\n//                 },\n//             },\n//             [\n//                 h('span', null, '我是组件的标题1......'),\n//                 h('span', null, '我是组件的标题2......')\n//             ]\n//         );\n//     }\n// }\n\n// function MyFunctionalComponent() {\n//     // 返回要渲染的内容描述，即 VNode\n//     return h(\n//         'div',\n//         {\n//             style: {\n//                 background: 'green'\n//             },\n//         },\n//         [\n//             h('span', null, '我是组件的标题1......'),\n//             h('span', null, '我是组件的标题2......')\n//         ]\n//     );\n// }\n\n// const elementVnode = h(\n// 'div', {\n//     style: {\n//         height: '100px',\n//         width: '100px',\n//         background: 'red'\n//     }\n// },\n// [\n//     h('div', {\n//         style: {\n//             height: '50px',\n//             width: '50px',\n//             background: 'green'\n//         }\n//     }, '文本？'),\n//     h(MyComponent),\n//     h(Fragment, null, [\n//         h('p', {\n//             style: {\n//                 color: 'yellow',\n//             },\n//         }, '啦啦啦123'),\n//         h('p', null, '嘻嘻嘻')\n//     ]),\n//     h(Portal, {\n//         target: 'body',\n//     }, '??????')\n// ]\n//     MyFunctionalComponent\n// );\n\n// const prev = h('div', null, 'prev data');\n\n// render(prev, document.getElementById('app'))\n// window.setTimeout(() => {\n//     render(elementVnode, document.getElementById('app'))\n// }, 2000);\n\n// patch single child to single child;\n// const prevVNode = h('div', null,\n//     h('p', {\n//         style: {\n//             height: '100px',\n//             width: '100px',\n//             background: 'red'\n//         }\n//     })\n// )\n\n// // 新的 VNode\n// const nextVNode = h('div', null,\n//     h('p', {\n//         style: {\n//             height: '100px',\n//             width: '100px',\n//             background: 'green'\n//         }\n//     })\n// )\n\n// render(prevVNode, document.getElementById('app'))\n\n// // 2秒后更新\n// setTimeout(() => {\n//     render(nextVNode, document.getElementById('app'))\n// }, 2000)\n\n// patch single child to no child;\n// const prevVNode = h(\n//     'div',\n//     null,\n//     h('p', {\n//         style: {\n//             height: '100px',\n//             width: '100px',\n//             background: 'red'\n//         }\n//     })\n// )\n\n// // 新的 VNode\n// const nextVNode = h('div')\n\n// render(prevVNode, document.getElementById('app'))\n\n// // 2秒后更新\n// setTimeout(() => {\n//     render(nextVNode, document.getElementById('app'))\n// }, 2000)\n\n// patch single to multi\n// 旧的 VNode\n// const prevVNode = h('div', null, h('p', null, '只有一个子节点'))\n\n// // 新的 VNode\n// const nextVNode = h('div', null, [\n//     h('p', null, '子节点 1'),\n//     h('p', null, '子节点 2')\n// ])\n\n// render(prevVNode, document.getElementById('app'))\n\n// // 2秒后更新\n// setTimeout(() => {\n//     render(nextVNode, document.getElementById('app'))\n// }, 2000)\n\n// patch text to text\n// render(h('p', null, 'old text'), document.getElementById('app'));\n\n// setTimeout(() => {\n//     render(h('p', null, 'new text'), document.getElementById('app'))\n// }, 2000);\n\n// patch fragment\n// render(h(Fragment, null, [\n//     h('p', null, '旧子节点1'),\n//     h('p', null, '旧子节点2'),\n//     h('p', null, '旧子节点3'),\n//     h('p', null, '旧子节点4'),\n// ]), document.getElementById('app'));\n\n// setTimeout(() => {\n//     render(h(Fragment, null, [\n//         h('p', null, '新子节点1'),\n//         h('p', null, '新子节点2'),\n//         h('p', null, '新子节点3'),\n//         h('p', null, '新子节点4'),\n//     ]), document.getElementById('app'));\n// }, 2000);\n\n// patch portal\n// const prevVNode = h(\n//     Portal,\n//     { target: '#old-container' },\n//     h('p', null, '旧的 Portal'),\n// );\n\n// const nextVNode = h(\n//     Portal,\n//     { target: '#new-container' },\n//     h('p', null, '新的 Portal'),\n// )\n\n// render(prevVNode, document.getElementById('app'));\n\n// setTimeout(() => {\n//     render(nextVNode, document.getElementById('app'));\n// }, 2000);\n\n// class ChildComponent {\n//     render() {\n//       // 子组件中访问外部状态：this.$props.text\n//         return h('div', null, this.$props.text);\n//     }\n// }\n\n// function MyFunctionalComp(props) {\n//     return h('p', null, props.text)\n// }\n\n// class ParentComponent {\n//     constructor() {\n//         this.localState = 'one';\n//     }\n\n//     mounted() {\n//         setTimeout(() => {\n//             this.localState = 'two';\n//             this._update();\n//         }, 2000);\n//     }\n    \n//     render() {\n//         return h(MyFunctionalComp, {\n//             // 父组件向子组件传递的 props\n//             text: this.localState,\n//         });\n//     }\n// }\n\n// render(h(ParentComponent), document.getElementById('app'));\n\nconst muitlChildrenBefore = h('div', null, [\n    h('p', { key: 'a' }, 'old a'),\n    // h('p', { key: 'b' }, 'old b'),\n    h('p', { key: 'c' }, 'old c'),\n    h('p', { key: 'd' }, 'old d'),\n]);\n\nconst muitlChildrenAfter = h('div', null, [\n    h('p', { key: 'b' }, 'new b'),\n    h('p', { key: 'a' }, 'new a'),\n    // h('p', { key: 'd' }, 'new d'),\n    h('p', { key: 'c' }, 'new c'),\n]);\n\nrender(muitlChildrenBefore, document.getElementById('app'));\n\nsetTimeout(() => {\n    render(muitlChildrenAfter, document.getElementById('app'));\n}, 2000);\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else {\n        window.location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}